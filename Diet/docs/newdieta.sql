-- MySQL Script generated by MySQL Workbench
-- 11/19/16 14:50:52
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema Dieta
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `Dieta` ;

-- -----------------------------------------------------
-- Schema Dieta
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Dieta` DEFAULT CHARACTER SET utf8 ;
USE `Dieta` ;

-- -----------------------------------------------------
-- Table `Dieta`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`user` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `user` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `cpf` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `phone` VARCHAR(45) NOT NULL,
  `weight` DOUBLE NOT NULL,
  `height` DOUBLE NOT NULL,
  `age` INT NOT NULL,
  `admin` TINYINT(1) NOT NULL,
  `active` TINYINT(1) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`objective`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`objective` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `objective` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`diet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`diet` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dat_init` DATE NULL,
  `dat_final` DATE NULL,
  `ideal_weight` DOUBLE NOT NULL,
  `cod_objective` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Dieta_Objetivo1_idx` (`cod_objective` ASC),
  CONSTRAINT `fk_Dieta_Objetivo1`
    FOREIGN KEY (`cod_objective`)
    REFERENCES `Dieta`.`objective` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`category` (
  `id` INT NOT NULL,
  `category` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`food`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`food` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `food` VARCHAR(45) NOT NULL,
  `calories` DOUBLE NOT NULL,
  `cod_category` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_food_category1_idx` (`cod_category` ASC),
  CONSTRAINT `fk_food_category1`
    FOREIGN KEY (`cod_category`)
    REFERENCES `Dieta`.`category` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`location` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `cord_longitude` DOUBLE NOT NULL,
  `cord_latitude` DOUBLE NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`Usuario_has_Dieta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`Usuario_has_Dieta` (
  `idUsuario_has_Dieta` INT NOT NULL,
  PRIMARY KEY (`idUsuario_has_Dieta`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`user_diet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`user_diet` (
  `cod_user` INT NOT NULL,
  `cod_diet` INT NOT NULL,
  INDEX `fk_Usuario_has_Dieta1_Dieta1_idx` (`cod_diet` ASC),
  INDEX `fk_Usuario_has_Dieta1_Usuario1_idx` (`cod_user` ASC),
  CONSTRAINT `fk_Usuario_has_Dieta1_Usuario1`
    FOREIGN KEY (`cod_user`)
    REFERENCES `Dieta`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Usuario_has_Dieta1_Dieta1`
    FOREIGN KEY (`cod_diet`)
    REFERENCES `Dieta`.`diet` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`diet_food`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`diet_food` (
  `cod_diet` INT NOT NULL,
  `cod_food` INT NOT NULL,
  `schedule` TIME NOT NULL,
  `amount` DOUBLE NOT NULL,
  INDEX `fk_tb_dieta_has_tb_alimento_tb_alimento1_idx` (`cod_food` ASC),
  INDEX `fk_tb_dieta_has_tb_alimento_tb_dieta1_idx` (`cod_diet` ASC),
  CONSTRAINT `fk_tb_dieta_has_tb_alimento_tb_dieta1`
    FOREIGN KEY (`cod_diet`)
    REFERENCES `Dieta`.`diet` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_dieta_has_tb_alimento_tb_alimento1`
    FOREIGN KEY (`cod_food`)
    REFERENCES `Dieta`.`food` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Dieta`.`food_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Dieta`.`food_location` (
  `cod_food` INT NOT NULL,
  `cod_location` INT NOT NULL,
  INDEX `fk_tb_alimento_has_tb_localizacao_tb_localizacao1_idx` (`cod_location` ASC),
  INDEX `fk_tb_alimento_has_tb_localizacao_tb_alimento1_idx` (`cod_food` ASC),
  CONSTRAINT `fk_tb_alimento_has_tb_localizacao_tb_alimento1`
    FOREIGN KEY (`cod_food`)
    REFERENCES `Dieta`.`food` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_alimento_has_tb_localizacao_tb_localizacao1`
    FOREIGN KEY (`cod_location`)
    REFERENCES `Dieta`.`location` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `Dieta`.`user`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`user` (`id`, `user`, `password`, `cpf`, `email`, `phone`, `weight`, `height`, `age`, `admin`, `active`) VALUES (1, 'Higo Soares', 'higo', '020202020', 'higo@gmail.com', '33434332', 55, 1.69, 20, true, true);
INSERT INTO `Dieta`.`user` (`id`, `user`, `password`, `cpf`, `email`, `phone`, `weight`, `height`, `age`, `admin`, `active`) VALUES (2, 'Gustavo Oliveira', 'gustavo', '123456789', 'gustavo@gmail.com', '22222222', 70.2, 1.55, 25, false, true);
INSERT INTO `Dieta`.`user` (`id`, `user`, `password`, `cpf`, `email`, `phone`, `weight`, `height`, `age`, `admin`, `active`) VALUES (3, 'Amado Batista', 'amado', '987654321', 'amado@gmail.com', '33333333', 91.6, 1.80, 30, false, true);
INSERT INTO `Dieta`.`user` (`id`, `user`, `password`, `cpf`, `email`, `phone`, `weight`, `height`, `age`, `admin`, `active`) VALUES (4, 'Bruno Lima', 'bruno', '616283818', 'bruno@gmail.com', '44444444', 67, 1.70, 35, false, true);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`objective`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`objective` (`id`, `objective`) VALUES (1, 'Hipertrofia');
INSERT INTO `Dieta`.`objective` (`id`, `objective`) VALUES (2, 'Perda de peso');
INSERT INTO `Dieta`.`objective` (`id`, `objective`) VALUES (3, 'Reducao alimentar');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`diet`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`diet` (`id`, `dat_init`, `dat_final`, `ideal_weight`, `cod_objective`) VALUES (1, '2016-09-17', '2016-09-17', 66, 1);
INSERT INTO `Dieta`.`diet` (`id`, `dat_init`, `dat_final`, `ideal_weight`, `cod_objective`) VALUES (2, '2016-01-20', '2016-07-20', 68.5, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`category`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (1, 'Proteinas');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (2, 'Carboidratos');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (3, 'Gorduras Saturadas');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (4, 'Gorduras Trans');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (5, 'Hortalicas');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (6, 'Frutas');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (7, 'Acucares');
INSERT INTO `Dieta`.`category` (`id`, `category`) VALUES (8, 'Oleaginosas');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`food`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (1, 'Abacaxi', 200, 6);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (2, 'Banana', 300, 2);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (3, 'Pao Integral', 100, 2);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (4, 'Peito de Frango', 200, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (5, 'Batata Doce', 150, 2);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (6, 'Castanha do Para', 70, 8);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (7, 'Castanha de Caju', 70, 8);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (8, 'Patinho Moido', 200, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (9, 'Abobora', 150, 5);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (10, 'Alface', 120, 5);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (11, 'Tomate', 75, 5);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (12, 'Brocolis', 65, 5);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (13, 'Couve Flor', 60, 5);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (14, 'Tapioca', 100, 2);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (15, 'Ovo', 90, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (16, 'Iogurte', 25, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (17, 'Queijo', 35, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (18, 'Peito de Peru', 67, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (19, 'Mandioca Cozida', 55, 2);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (20, 'Aveia em Flocos', 23, 1);
INSERT INTO `Dieta`.`food` (`id`, `food`, `calories`, `cod_category`) VALUES (21, 'Cuscuz', 50, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`location`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`location` (`id`, `cord_longitude`, `cord_latitude`) VALUES (1, -2.323123, -0.28282);
INSERT INTO `Dieta`.`location` (`id`, `cord_longitude`, `cord_latitude`) VALUES (2, -9.282872, -0.22222);
INSERT INTO `Dieta`.`location` (`id`, `cord_longitude`, `cord_latitude`) VALUES (3, -8.231231, -0.23333);
INSERT INTO `Dieta`.`location` (`id`, `cord_longitude`, `cord_latitude`) VALUES (4, -9.272722, 9.222222);
INSERT INTO `Dieta`.`location` (`id`, `cord_longitude`, `cord_latitude`) VALUES (5, -1.123123, -0.72727);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`user_diet`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`user_diet` (`cod_user`, `cod_diet`) VALUES (1, 1);
INSERT INTO `Dieta`.`user_diet` (`cod_user`, `cod_diet`) VALUES (2, 1);
INSERT INTO `Dieta`.`user_diet` (`cod_user`, `cod_diet`) VALUES (3, 2);
INSERT INTO `Dieta`.`user_diet` (`cod_user`, `cod_diet`) VALUES (4, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`diet_food`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`diet_food` (`cod_diet`, `cod_food`, `schedule`, `amount`) VALUES (1, 1, '14:30', 200);
INSERT INTO `Dieta`.`diet_food` (`cod_diet`, `cod_food`, `schedule`, `amount`) VALUES (1, 2, '15:30', 150);
INSERT INTO `Dieta`.`diet_food` (`cod_diet`, `cod_food`, `schedule`, `amount`) VALUES (2, 3, '14:10', 120);
INSERT INTO `Dieta`.`diet_food` (`cod_diet`, `cod_food`, `schedule`, `amount`) VALUES (2, 4, '15:30', 118.5);
INSERT INTO `Dieta`.`diet_food` (`cod_diet`, `cod_food`, `schedule`, `amount`) VALUES (2, 5, '16:30', 135.5);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Dieta`.`food_location`
-- -----------------------------------------------------
START TRANSACTION;
USE `Dieta`;
INSERT INTO `Dieta`.`food_location` (`cod_food`, `cod_location`) VALUES (1, 1);
INSERT INTO `Dieta`.`food_location` (`cod_food`, `cod_location`) VALUES (2, 2);
INSERT INTO `Dieta`.`food_location` (`cod_food`, `cod_location`) VALUES (3, 3);
INSERT INTO `Dieta`.`food_location` (`cod_food`, `cod_location`) VALUES (4, 4);
INSERT INTO `Dieta`.`food_location` (`cod_food`, `cod_location`) VALUES (5, 5);

COMMIT;

